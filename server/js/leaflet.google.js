L.Google=L.Class.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:false,noWrap:false,},initialize:function(b,a){L.Util.setOptions(this,a);this._type=google.maps.MapTypeId[b||"SATELLITE"]},onAdd:function(b,a){this._map=b;this._insertAtTheBottom=a;this._initContainer();this._initMapObject();b.on("viewreset",this._resetCallback,this);this._limitedUpdate=L.Util.limitExecByInterval(this._update,150,this);b.on("move",this._update,this);this._reset();this._update()},onRemove:function(a){this._map._container.removeChild(this._container);this._map.off("viewreset",this._resetCallback,this);this._map.off("move",this._update,this)},getAttribution:function(){return this.options.attribution},setOpacity:function(a){this.options.opacity=a;if(a<1){L.DomUtil.setOpacity(this._container,a)}},_initContainer:function(){var a=this._map._container;first=a.firstChild;if(!this._container){this._container=L.DomUtil.create("div","leaflet-google-layer leaflet-top leaflet-left");this._container.id="_GMapContainer"}if(true){a.insertBefore(this._container,first);this.setOpacity(this.options.opacity);var b=this._map.getSize();this._container.style.width=b.x+"px";this._container.style.height=b.y+"px";this._container.style.zIndex=0}},_initMapObject:function(){this._google_center=new google.maps.LatLng(0,0);var a=new google.maps.Map(this._container,{center:this._google_center,zoom:0,mapTypeId:this._type,disableDefaultUI:true,keyboardShortcuts:false,draggable:false,disableDoubleClickZoom:true,scrollwheel:false,streetViewControl:false});var b=this;this._reposition=google.maps.event.addListenerOnce(a,"center_changed",function(){b.onReposition()});a.backgroundColor="#ff0000";this._google=a},_resetCallback:function(a){this._reset(a.hard)},_reset:function(a){this._initContainer()},_update:function(){this._resize();var e=this._map.getBounds();var f=e.getNorthEast();var b=e.getSouthWest();var d=new google.maps.LatLngBounds(new google.maps.LatLng(b.lat,b.lng),new google.maps.LatLng(f.lat,f.lng));var a=this._map.getCenter();var c=new google.maps.LatLng(a.lat,a.lng);this._google.setCenter(c);this._google.setZoom(this._map.getZoom())},_resize:function(){var a=this._map.getSize();if(this._container.style.width==a.x&&this._container.style.height==a.y){return}this._container.style.width=a.x+"px";this._container.style.height=a.y+"px";google.maps.event.trigger(this._google,"resize")},onReposition:function(){}});